
<div class="book-grid">

 @for (book of books; track book.id) {
  <div class="book-card">

    <div 
    class="container" 
    [ngClass]="{
      'logged-in': isUserLoggedIn(),
      'not-logged-in': !isUserLoggedIn()
    }"
  >
  
    <img class="image" [src]="'http://localhost:8080/' + book.book_cover" alt="{{ book.title }}">
    <a [routerLink]="['/cart', book.id]" class="shop-link" *ngIf="isUserLoggedIn()">Shop</a>
 
  
  </div>
  
    
    <div class="title">
      <label>Title: </label><h3>{{ book.title }}</h3>
    </div>

    <div class="title">
      <label>Author: </label><h3>{{ book.author }}</h3>
    </div>


    <div class="price">
      <label>Price:</label><span>{{ book.price | currency }}</span>
    </div>


    <div class="crud" *ngIf="isAdminLoggedIn()">
      <!-- Edit button -->
      <a class="btn-action btn-edit" [routerLink]="['/add-form', book.id]">
        <i class="fa-solid fa-pen-to-square"></i>
      </a>
    
      <!-- Delete button -->
      <button class="btn-action btn-delete" (click)="deleteBook(book.id)">
        <i class="fa-solid fa-trash"></i>
      </button>
    </div>
    
  </div>
}
</div>

<!-- SINGLE Add button outside loop -->
<div class="post-book" *ngIf="isAdminLoggedIn()">
  <a
    routerLink="/add-form"
    class="add-book-button btn btn-primary"
  >
    <i class="fa-solid fa-plus"></i>
  </a>
</div>




