
<div class="date-input">
 <mat-form-field>
  <mat-label>Enter a date range</mat-label>
  <mat-date-range-input [rangePicker]="rangePicker">
    <input matStartDate placeholder="Start date" [(ngModel)]="startDate">
    <input matEndDate placeholder="End date" [(ngModel)]="endDate">
  </mat-date-range-input>
  <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
  <mat-datepicker-toggle matIconSuffix [for]="rangePicker"></mat-datepicker-toggle>
  <mat-date-range-picker #rangePicker>
    <mat-date-range-picker-actions>
      <button mat-button class="cancel-btn" matDateRangePickerCancel>Cancel</button>
      <button mat-button class="apply-btn" matDateRangePickerApply (click)="filterOrdersByDate()">
        Apply</button>
    </mat-date-range-picker-actions>
  </mat-date-range-picker>
 </mat-form-field>
</div>


<div class="order-table-container">
    <p-toast position="top-center"></p-toast>

  <table class="order-table">
      <thead>
        <tr>
          <th>Address</th>
          <th>Status</th>
          <th>Items</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of orders">
          <td class="address">{{ order.address }}</td>
          <td>
            <div class="status-update-container">
              <select 
                class="status-select" 
                [ngClass]="order.orderStatus?.toLowerCase()" 
                [(ngModel)]="order.orderStatus">
                <option value="PENDING">Pending</option>
                <option value="ACCEPTED">Accepted</option>
                <option value="REJECTED">Rejected</option>
              </select>
            
              <p-button type="button" class="update-btn" pRipple (click)="updateOrderStatus(order)" 
             label="Update Status" severity="success" />
              
            </div>
            
          
          </td>
          <td>
            <table class="inner-table">
              <thead>
                <tr>
                  <th>Book Title</th>
                  <th>Quantity</th>
                  <th>Total Price</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of order.orderItems">
                  <td>{{ item.bookDto.title }}</td>
                  <td>{{ item.quantity }}</td>
                  <td>{{item.totalPricePerItem}}</td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>

  
  <p-paginator 
    [first]="first" 
    [rows]="rows" 
    [totalRecords]="totalRecords" 
    [rowsPerPageOptions]="[4, 8, 12]"
    (onPageChange)="onPageChange($event)">
  </p-paginator>
  
      
</div>
  